<div class="table-responsive mt-2">
  <table class="table table-striped">
    <thead><tr><th>ID</th><th>Tên</th><th>Mô tả</th><th>Hành động</th></tr></thead>
    <tbody>
      <tr data-json='{"categoryId":"1","categoryName":"Running","description":"Giày chạy"}'>
        <td>1</td><td>Running</td><td>Giày chạy</td>
        <td>
          <button class="btn btn-sm btn-warning cat-edit"><i class="fa-solid fa-pen"></i></button>
          <button class="btn btn-sm btn-danger cat-del"><i class="fa-solid fa-trash"></i></button>
        </td>
      </tr>
      <tr data-json='{"categoryId":"2","categoryName":"Sneakers","description":"Giày thời trang"}'>
        <td>2</td><td>Sneakers</td><td>Giày thời trang</td>
        <td>
          <button class="btn btn-sm btn-warning cat-edit"><i class="fa-solid fa-pen"></i></button>
          <button class="btn btn-sm btn-danger cat-del"><i class="fa-solid fa-trash"></i></button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<script>
  document.querySelectorAll('.cat-edit').forEach(b => b.addEventListener('click', function(){
    const json = this.closest('tr').getAttribute('data-json');
    const data = JSON.parse(json || '{}');
    window.dispatchEvent(new CustomEvent('categories:edit', { detail: data }));
  }));
  document.querySelectorAll('.cat-del').forEach(b => b.addEventListener('click', function(){
    if (confirm('Xóa danh mục?')) this.closest('tr').remove();
  }));
</script>

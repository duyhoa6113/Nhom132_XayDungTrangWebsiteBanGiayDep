<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link th:href="@{/css/index.css}" rel="stylesheet">
    <link th:href="@{/css/admin/sidebar.css}" rel="stylesheet">
</head>

<body>
    <aside class="admin-sidebar">
        <div class="admin-brand">
            <div class="logo-icon"><i class="fas fa-chart-line"></i></div>
            <span class="logo-text">Admin Panel</span>
        </div>

        <ul class="admin-nav ps-0">
            <li class="nav-item">
                <a href="#" class="nav-link active" data-target="dashboard">
                    <i class="fa-solid fa-gauge-high"></i><span class="text">Dashboard</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" data-target="products">
                    <i class="fa-solid fa-shoe-prints"></i><span class="text">Sản phẩm</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" data-target="categories">
                    <i class="fa-solid fa-layer-group"></i><span class="text">Danh mục</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" data-target="orders">
                    <i class="fa-solid fa-receipt"></i><span class="text">Đơn hàng</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" data-target="account">
                    <i class="fa-solid fa-users"></i><span class="text">Tài khoản</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#" class="nav-link" data-target="role">
                    <i class="fa-solid fa-user-shield"></i><span class="text">Phân quyền</span>
                </a>
            </li>
            <!-- <li class="nav-item mt-2">
                <a th:href="@{/logout}" class="nav-link">
                    <i class="fa-solid fa-right-from-bracket"></i><span class="text">Đăng xuất</span>
                </a>
            </li> -->
        </ul>

        <div class="admin-footer">
            <button type="button" class="sidebar-toggle" id="btnSidebarToggle">
                <i class="fa-solid fa-angles-left"></i><span class="text">Thu gọn</span>
            </button>
        </div>
    </aside>

    <script>
        document.querySelectorAll('.admin-nav .nav-link[data-target]').forEach(a => {
            a.addEventListener('click', (e) => {
                e.preventDefault();
                const target = a.getAttribute('data-target');
                window.dispatchEvent(new CustomEvent('admin:navigate', { detail: { target } }));
                document.querySelectorAll('.admin-nav .nav-link').forEach(n => n.classList.remove('active'));
                a.classList.add('active');
            });
        });

        document.getElementById('btnSidebarToggle')?.addEventListener('click', () => {
            const shell = document.getElementById('adminShell');
            if (!shell) return;
            shell.classList.toggle('collapsed');
            const icon = document.querySelector('#btnSidebarToggle i');
            const text = document.querySelector('#btnSidebarToggle .text');
            if (shell.classList.contains('collapsed')) {
                icon.classList.remove('fa-angles-left'); icon.classList.add('fa-angles-right');
                if (text) text.textContent = 'Mở rộng';
            } else {
                icon.classList.remove('fa-angles-right'); icon.classList.add('fa-angles-left');
                if (text) text.textContent = 'Thu gọn';
            }
        });
    </script>
</body>

</html>